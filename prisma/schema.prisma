// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String        @id @default(cuid())
  email     String        @unique
  createdAt DateTime      @default(now())
  monsters  UserMonster[]
  packOpens PackOpen[]
}

model UserMonster {
  id             String   @id @default(cuid())
  user           User     @relation(fields: [userId], references: [id])
  userId         String
  templateCode   String   // e.g. "HAUNTLAND"
  displayName    String   // "Erling Haunt"
  realPlayerName String   // "Erling Haaland"
  position       String   // "FWD", "MID", etc.
  club           String
  rarity         String   // "COMMON", "RARE", "EPIC", "LEGENDARY"
  baseAttack     Int
  baseMagic      Int
  baseDefense    Int
  createdAt      DateTime @default(now())
}

model PackOpen {
  id        String   @id @default(cuid())
  user      User     @relation(fields: [userId], references: [id])
  userId    String
  packType  String   // "STARTER", etc.
  createdAt DateTime @default(now())
}
